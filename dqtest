-- Check if the script is running in a local environment
local player = game.Players.LocalPlayer
local userInterface = player:WaitForChild("PlayerGui"):WaitForChild("ScreenGui", true) -- Make sure ScreenGui exists or create one

-- Create a GUI if it doesn't exist
if not userInterface then
    userInterface = Instance.new("ScreenGui")
    userInterface.Name = "ScreenGui"
    userInterface.Parent = player:WaitForChild("PlayerGui")
end

-- Create the frame and button for the UI
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 200)
frame.Position = UDim2.new(0.5, -100, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
frame.Parent = userInterface

local greenOn = false
local redOn = false

-- Function to toggle green and red colors on/off
local function toggleGreenRed(color)
    if color == "green" then
        greenOn = not greenOn
        if greenOn then
            frame.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
        else
            frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        end
    elseif color == "red" then
        redOn = not redOn
        if redOn then
            frame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        else
            frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        end
    end
end

-- Bind the Q and E keys to toggle green and red colors
game:GetService("UserInputService").InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Q then
        toggleGreenRed("green")
    elseif input.KeyCode == Enum.KeyCode.E then
        toggleGreenRed("red")
    end
end)

-- Prevent the GUI from disappearing after death/reset
game:GetService("RunService").Heartbeat:Connect(function()
    if not player:FindFirstChild("PlayerGui") then
        userInterface.Parent = player:WaitForChild("PlayerGui")
    end
end)
